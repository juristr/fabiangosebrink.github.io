<!DOCTYPE html>
<html>

<head>
    <!-- [[! Document Settings ]] -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- [[! Page Meta ]] -->
    
    <title>Structurize your project with areas and services in ASP.NET MVC</title>
     
    <meta name="description" content="Structurize your project with areas and services in ASP.NET MVC" /> 

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="/assets/images/favicon.ico">

    <!-- [[! Styles'n'Scripts ]] -->
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400"
    />
    <link rel="stylesheet" type="text/css" href="/assets/css/syntax.css" />
    <link rel="stylesheet" type="text/css" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

    <!-- [[! Ghost outputs important style and meta data with this tag ]] -->
        <link rel="canonical" href="/" />
    <meta name="referrer" content="origin" />

     
    <meta property="og:site_name" content="Structurize your project with areas and services in ASP.NET MVC" />
    
    
    
    <meta property="og:title" content="Structurize your project with areas and services in ASP.NET MVC" />
    

    
     <meta property="og:url" content="http://offering.solutions/blog/articles/2014/06/01/structurize-your-project-with-areas-and-services-in-asp-net-mvc/" />
    
    

    <meta property="og:type" content="article" />

    <meta property="og:description" content="Articles about Angular & ASP.NET" />
   
    <meta property="og:image" content="http://offering.solutions/assets/images/aerial-view-of-laptop-and-notebook_bw_osc.jpg" />

    <meta name="twitter:card" content="summary_large_image" />
     
    <meta property="twitter:title" content="Structurize your project with areas and services in ASP.NET MVC" />
    
    <meta name="twitter:description" content="Articles about Angular & ASP.NET" />

    
     <meta property="twitter:url" content="http://offering.solutions/blog/articles/2014/06/01/structurize-your-project-with-areas-and-services-in-asp-net-mvc/" />
    
    <meta name="twitter:site" content="@FabianGosebrink" />
    <meta name="twitter:image" content="http://offering.solutions/assets/images/aerial-view-of-laptop-and-notebook_bw_osc.jpg" />


  
  <meta content="blog" property="article:section">
  


  
  <meta content="areas" property="article:tag">
  
  <meta content="aspnet" property="article:tag">
  
  <meta content="mvc" property="article:tag">
  
  <meta content="controllerservice" property="article:tag">
  
  <meta content="services" property="article:tag">
  


    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Website",
    "publisher": "Offering Solutions",
    "url": "/",
    "image": "/assets/images/background.jpg",
    "description": "Articles about Angular & ASP.NET"
}
    </script>

    <meta name="generator" content="Jekyll 3.0.0" />
    <link rel="alternate" type="application/rss+xml" title="Offering Solutions" href="/feed.xml" />


</head>

<body class="home-template nav-closed">

    <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        <li class="nav-home " role="presentation"><a href="/">Home</a></li>
        <li class="nav-author " role="presentation"><a href="/author">Author</a></li>
        <li class="nav-courses " role="presentation"><a href="http://offering.solutions">Back to OS</a></li>
    </ul>
    <a class="subscribe-button icon-feed" href="/feed.xml">Subscribe</a>
</div>
<span class="nav-cover"></span>


    <div class="site-wrapper">

        <!-- [[! Everything else gets inserted here ]] -->
        <!-- < default -->

<!-- The comment above "< default" means - insert everything in this file into -->
    <!-- the [body] of the default.hbs template, which contains our header/footer. -->

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<header class="main-header post-head " style="background-image: url(/assets/images/aerial-view-of-laptop-and-notebook_bw_osc.jpg) ">
	
    <nav class="main-nav  overlay  clearfix">
        <a class="blog-logo" href="/"><img src="/assets/images/logo_small.png" alt="Blog Logo" /></a>
        <a class="menu-button icon-menu" href="#"><span class="word">Menu</span></a>
    </nav>
	
	
	    <!--   
			<div align="center">
				<h1>Structurize your project with areas and services in ASP.NET MVC</h1>
			</div>
      -->
	
</header>

<main class="content" role="main">

    <article class="post tag-speeches">

        <header class="post-header">
            <h1 class="post-title">Structurize your project with areas and services in ASP.NET MVC</h1>
            <section class="post-meta">
            <!-- <a href='/'>Fabian Gosebrink</a> -->
            <time class="post-date" datetime="2014-06-01">01 Jun 2014</time>
                <!-- [[tags prefix=" on "]] -->
                 
                on 
                
                    
                       <a href='/tag/areas'>Areas</a>,
                       
                
                    
                       <a href='/tag/aspnet'>Aspnet</a>,
                       
                
                    
                       <a href='/tag/mvc'>Mvc</a>,
                       
                
                    
                       <a href='/tag/controllerservice'>Controllerservice</a>,
                       
                
                    
                       <a href='/tag/services'>Services</a>
                       
                
                 - 
                <span class="reading-time" title="Estimated read time">
  
  
    8 mins read
  
</span>
            </section>
        </header>

        <section class="post-content">

            <br/>
            <p>In this blogpost I want to show you one possible way to¬†structurize your project with areas and services in ASP.NET MVC.</p>

<p>This is the first part of several architecture posts I will publish in the next time.</p>

<p>The idea to this came up because I noticed that if you are implementing ASP.NET mvc-code you always come to a point where you have to invest some time in the architecture. With a growing project it‚Äôs always good to keep an overview of who is doing what, when and where. Also the first question after implementing your first mvc-project lines of code is exactly the participation of the different concerns, which means: How to give your project a structure.</p>

<p>After some tries I came up with a solution of using some patterns and stuff. So this is the first post of two (or three) where I want to give you an idea how to get along with the problems giving your solution a system.</p>

<p><strong>1)¬†¬†¬†¬†¬†</strong> <strong>Viewmodels and Submitmodels</strong></p>

<p>I don‚Äôt want to get into this further because I already did a blog post on this (<a href="http://blog.noser.com/why-and-how-to-avoid-viewbag-and-viewdata-in-asp-net-mvc/" target="_blank">here </a>and <a href="http://blog.noser.com/what-are-submitmodels-and-how-to-use-them/" target="_blank">here</a>). You can see an example of how to get along with viewmodels and submitmodels.</p>

<p>VMs and SMs are one essential part (of many üòâ ) of your mvc-application. They give you more control and they help you to figure out what‚Äôs going on. Not only in case of an error.</p>

<p><strong>2)¬†¬†¬†¬†¬†</strong> <strong>Areas</strong></p>

<p>Do work with areas. Ever. I know in the beginning it seems useless to you because you ‚Äújust want to get a little thing done‚Äù. But do use areas (and thank me later). This is the second step of getting structure into your project from the beginning.</p>

<p><span style="color: #808080;">When I started to do this I got problems sharing my partial views from the top-level ‚ÄúShared‚Äù-Folder which is given to me from the MVC-Template.</span></p>

<p><span style="color: #808080;"><a href="http://brockallen.com/2012/08/31/sharing-a-single-_viewstart-across-areas-in-asp-net-mvc/"><span style="color: #808080;">http://brockallen.com/2012/08/31/sharing-a-single-_viewstart-across-areas-in-asp-net-mvc/</span></a></span></p>

<p><span style="color: #808080;">Has a solution for this. So this should not be a problem for you anymore.</span></p>

<p>Areas are adding a separate ‚Äúroom‚Äù for a special part of your website with its own controller, models and views.</p>

<p><img src="/assets/articles/2014-06-01/518fb795-0f60-47a8-8312-5edebe28335b.png" alt="Structurize your project with areas and services in ASP.NET MVC" /></p>

<p>Note: You can of course add areas and name them as you want. But I think it‚Äôs always good to have a first point where the user first ‚Äúsees‚Äù your application. So remind to have an Area which is giving you this information on the first sight. So name it like ‚ÄúHome‚Äù (which is standard). But also ‚ÄúStart‚Äù or anything like this would be okay.</p>

<p><strong>3)¬†¬†¬†¬†¬†</strong> <strong>Area-Models</strong></p>

<p>So we see that an area is giving your project more structure, also you are summarizing the possibilities and ‚Äúrooms‚Äù of your application and of what it is able to do.</p>

<p>In point 1 I mentioned the view- and submitmodels you have to give your view the information it needs.</p>

<p>You can lay them down in the models-folder. But do not do this on the top-level. Well, you can do this. But I am a fan of namespaces. So I do add a folder for each action I have in the controller (if they have own view-and submitmodels) and add them into this folder.</p>

<p><img src="/assets/articles/2014-06-01/357eb813-fd76-41dd-b9c6-8bfeaa25ccae.png" alt="Structurize your project with areas and services in ASP.NET MVC" /></p>

<p>In this screenshot you see an area called ‚ÄúProjects‚Äù because it‚Äôs only handling everything which is connected to a project-object which can be handled in this web-application. For every action I added a namespace. In this namespace every single viewmodel and submitmodel can be found.</p>

<p>So you are hiding all information here for someone who is looking at your solution. Only if he is really interested in the code of your models he has to open one. If not he gets a perfect overview of what you can do with your project-object in your web-application without getting into the code of the controller. (Imagine here that this ‚Äúsomeone‚Äù could be you looking into your code after some time. You will be thankful to have a good structure).</p>

<p><em>Conclusion so far: Keep your models in the given ‚Äúmodels‚Äù-folder the area is offering to you. Do add namespaces to actions you can to and summarize all view- and submitmodels in these folders. This gets a perfect overview of what your controller offers and you can find immediately what you are searching for, if you are searching for it. And *only* this. Nothing confusing.</em></p>

<p><strong>4)¬†¬†¬†¬†¬†</strong> <strong>Area-Views</strong></p>

<p>If you added the folders like mentioned in the point before you should also have the views folder looking like the folder structure of your ‚Äúmodels‚Äù-Folder</p>

<p><img src="/assets/articles/2014-06-01/35e36f7e-028e-49fd-845a-4ff70ac5147f.png" alt="Structurize your project with areas and services in ASP.NET MVC" /></p>

<p>This is good so far. Nothing confusing and everybody gets the idea of what is offered here. Every view has exactly the name of what it offers to the user. Here nothing has to be done so far. Looks clean and nice.</p>

<p><img src="/assets/articles/2014-06-01/309ab2b9-f3df-4258-9557-b0ce87e33335.png" alt="Structurize your project with areas and services in ASP.NET MVC" /></p>

<p>Here you can see again the clean folder structure which fits perfectly to the views. For each view you or someone else finds the information immediately. And it presents the fact, that every viewmodels is connected to a view.</p>

<p><em>Conclusion so far: We have now a clean models-folder and views which represent the models and the functionality of the application in this area part. You know the connections between them because of a clean naming and concern-separation.But their relations is also clear because of a clean naming.</em></p>

<p>So now we have touched areas, views and models inside an area. Okay‚Ä¶the controller is missing. But before I go into this I have to get a step back:</p>

<p><strong>5) ¬†¬†¬†¬†</strong> <strong>Controller Services and the controller</strong></p>

<p>We know that the controller receives the requests from your client and handles them. But I was never happy with this many lines of code in my controller. What I mean: He is the interface for your requests, he receives them. He is also responsible for giving the client back what he deserves. And that should be all. All the logic in between should not be into the controller, so why do not separate it and let the controller do what he is made for?</p>

<p>That is why I am using Services inside areas. Such a service works really near the area and has an interface, which is only providing all the methods the controller needs. Nothing more and nothing less. This service also knows view- and submitmodels. This is why the folder is placed beside the models-Folder.</p>

<p><img src="/assets/articles/2014-06-01/f68f4fa0-7922-4196-9d8f-e9d3105145a5.png" alt="Structurize your project with areas and services in ASP.NET MVC" /></p>

<p>Here on the first sight you only have the interface of the controller service without seeing the real implementation on it. The service is offering everything to the controller what the controller really needs.</p>

<p>Example:</p>

<p>Controller Code:</p>

<p><img src="/assets/articles/2014-06-01/089027b4-b577-4ae8-853c-accc685f102d.png" alt="Structurize your project with areas and services in ASP.NET MVC" /></p>

<p>Service-Interface:</p>

<p><img src="/assets/articles/2014-06-01/f83d4d16-84bc-48a4-8528-d597b7b0672a.png" alt="Structurize your project with areas and services in ASP.NET MVC" /></p>

<p>Here you see that in the controller you have only one call to the service which is doing all the work for you. So the controller has only to get the requests, call the method and gives back the result. He does not care about what is in your viewmodel (like errormessages, sucessmessages, etc.)</p>

<p><span style="color: #808080;">As I said: I am a fan of namespaces, so I encapsulate the implementation in a namespace (‚ÄúImpl‚Äù), separating it from the interface (because the interface is the first thing that interests me when I am looking at code. ‚ÄúWhat does the service give me?‚Äù comes before ‚ÄúHow does he do it?‚Äù).</span></p>

<p>So here the real work is done. Here my UnitOfWork is used (which I inject once per Request, so every request gets one UnitOfwork. Ninject has this feature for you: RequestScope ;))</p>

<p>If you look at the code, you see the next thing I am doing to get a separation of concerns: Factories!</p>

<p><strong>6)¬†¬†¬†¬†¬†</strong> <strong>Factories</strong></p>

<p>Every(!) viewmodel gets a factory which gets the viewmodel everything it needs. This is why I have another folder in my service-namespace called ‚ÄúFactories‚Äù. I hide this information inside the service namespace because the factories are only used inside this service and nowhere else.</p>

<p><img src="/assets/articles/2014-06-01/375c85e6-9c17-4768-ba88-28bb635cd7b5.png" alt="Structurize your project with areas and services in ASP.NET MVC" /></p>

<p>All the factories are getting injected everything they need to build up the requested viewmodel and every viewmodel has its own factory. So you can test the viewmodels perfectly and one is not related to the other.</p>

<p><span style="color: #808080;">I won‚Äôt get in detail HOW exactly to create viewmodels, because this really depends on what you want to show in your view.</span></p>

<p>To summarize, this is how an area could look like:</p>

<p><img src="/assets/articles/2014-06-01/6fdc0f3b-9843-49f2-8060-dabef9f4e150.png" alt="Structurize your project with areas and services in ASP.NET MVC" /></p>

<p>You have your view which is presenting everything it needs from the viewmodel, which is stored in the models-namespace. The controller has only a minimum of logic in it: Getting requests, calling his service and giving the result back. The controller service is handling everything for the controller by using factories to create viewmodels etc.</p>

<p>Your separation of concerns is fulfilled, you can apply this ‚Äútemplate‚Äù on every area you build and you are working with clean view, and submitmodels which I mentioned earlier in this post.</p>

<p>In the next blog post I will present you the sense of Area-Services and Business-services and why I separate them explicitly. After this I will present you the Generic UnitOfWork-Pattern to get your repositories on a clean way.</p>

<p>Thanks for reading.</p>

<p>Regards</p>

<p>Fabian</p>


        </section>

        <footer class="post-footer">

            <!-- Everything inside the #author tags pulls data from the author -->
            <!-- #author-->

            
            <figure class="author-image">
                <a class="img" href="/author/" style="background-image: url(/assets/images/profile.jpg)"><span class="hidden">Fabian Gosebrink's Picture</span></a>
            </figure>
            

            <section class="author">
                <h4><a href="/author/">Fabian Gosebrink</a></h4>
                
                
                    <p> Developing Software, Speaking & Teaching about ASP.NET & Angular</p>
                
                <div class="author-meta">
                    <span class="author-location icon-location"> St. Gallen, Switzerland</span> 
                    <span class="author-link icon-link"><a href="http://fabian-gosebrink.com"> http://fabian-gosebrink.com</a></span> 
                </div>
            </section>

            <!-- /author  -->

            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="http://twitter.com/share?text=Structurize your project with areas and services in ASP.NET MVC&amp;url=http://offering.solutions/blog/articles/2014/06/01/structurize-your-project-with-areas-and-services-in-asp-net-mvc/"
                    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://offering.solutions/blog/articles/2014/06/01/structurize-your-project-with-areas-and-services-in-asp-net-mvc/"
                    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=http://offering.solutions/blog/articles/2014/06/01/structurize-your-project-with-areas-and-services-in-asp-net-mvc/"
                   onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>
            
            <!-- Add Disqus Comments -->
            
                <div id="disqus_thread"></div>
<script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'offeringsolutions'; // required: replace example with your forum shortname
        var disqus_identifier = '/blog/articles/2014/06/01/structurize-your-project-with-areas-and-services-in-asp-net-mvc/';
        var disqus_url = 'http://offering.solutions/blog/articles/2014/06/01/structurize-your-project-with-areas-and-services-in-asp-net-mvc/';
        //var disqus_url = 'offering.solutions/blog/articles/2014/06/01/structurize-your-project-with-areas-and-services-in-asp-net-mvc/';
 
            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>

            
            
        </footer>

    </article>

</main>

<aside class="read-next">

    <!-- [[! next_post ]] -->
    
        <a class="read-next-story " style="background-image: url(/assets/images/aerial-view-of-laptop-and-notebook_bw_osc.jpg)" href="/blog/articles/2014/06/03/why-i-like-scrum-tips-which-may-help-you/">
            <section class="post">
                <h2>Why I like SCRUM - Tips which may help you</h2>
                <p>Hi, in this post I want to tell you¬†why I like SCRUM - Tips which...</p>
            </section>
        </a>
    
    <!-- [[! /next_post ]] -->
    <!-- [[! prev_post ]] -->
    
        <a class="read-next-story prev " style="background-image: url(/assets/images/aerial-view-of-laptop-and-notebook_bw_osc.jpg)" href="/blog/articles/2014/05/09/how-to-include-dotnet-highcharts-in-asp-net-mvc-with-viewmodels/">
            <section class="post">
                <h2>How to include DotNet.HighCharts in ASP.NET MVC with ViewModels</h2>
                <p>Hey, I want to show you how to include DotNet.HighCharts in ASP.NET MVC working with...</p>
            </section>
        </a>
    
    <!-- [[! /prev_post ]] -->
</aside>

<!-- /post -->



        <footer class="site-footer clearfix">
            <section class="copyright"><a href="/">Offering Solutions</a> &copy; 2017</section>
            <section class="social-centered">&copy; Fabian Gosebrink
                <a class="social-icon" href="https://www.linkedin.com/in/fabian-gosebrink-71023a88"><i class="fa fa-linkedin-square" aria-hidden="true"></i></a>
                <a class="social-icon" href="https://github.com/FabianGosebrink"><i class="fa fa-github" aria-hidden="true"></i></a>
                <a class="social-icon" href="https://github.com/OfferingSolutions"><i class="fa fa-github" aria-hidden="true"></i></a>
                <a class="social-icon" href="https://mvp.microsoft.com/en-us/PublicProfile/5001666?fullName=Fabian%20%20Gosebrink"><i class="fa fa-windows" aria-hidden="true"></i></a>
                <a class="social-icon" href="https://www.xing.com/profile/Fabian_Gosebrink"><i class="fa fa-xing" aria-hidden="true"></i></a>
                <a class="social-icon" href="https://twitter.com/FabianGosebrink"><i class="fa fa-twitter" aria-hidden="true"></i></a>
            </section>
        </footer>
    </div>
    <!-- [[! Ghost outputs important scripts and data with this tag ]] -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <!-- [[! The main JavaScript file for Casper ]] -->
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/assets/js/index.js"></script>
    <script type="text/javascript" src="/assets/js/jekyll-search.js"></script>

    <script>
        SimpleJekyllSearch({
            searchInput: document.getElementById('search-input'),
            resultsContainer: document.getElementById('results-container'),
            json: '/search.json',
        })
    </script>

    <!-- Add Google Analytics  -->
        <!-- Google Analytics Tracking code -->
     <script>
	    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	    ga('create', 'UA-91830658-1', 'auto');
	    ga('send', 'pageview');

     </script>
</body>

</html>